\hypertarget{class_mc_simulation}{}\section{Mc\+Simulation$<$ R\+NG, Path\+Type $>$ Class Template Reference}
\label{class_mc_simulation}\index{Mc\+Simulation$<$ R\+N\+G, Path\+Type $>$@{Mc\+Simulation$<$ R\+N\+G, Path\+Type $>$}}


Base class for all Monte Carlo pricing engines.  




{\ttfamily \#include $<$Mc\+Simulation.\+h$>$}

Inheritance diagram for Mc\+Simulation$<$ R\+NG, Path\+Type $>$\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_mc_simulation}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_mc_simulation_a9d323dca5d0a6c50d6fbab6ea564a1f3}{calculate} (unsigned long max\+Samples, unsigned long min\+Samples)
\begin{DoxyCompactList}\small\item\em Create its data member mc\+Model(shared\+\_\+ptr) with corresponding path generator and path pricer and control the calculation procedure. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
const \hyperlink{class_m_c_statistics}{M\+C\+Statistics} \& \hyperlink{class_mc_simulation_a61ed7348fc9fd05f05ede3c1ef83da16}{sample\+Accumulator} () const
\begin{DoxyCompactList}\small\item\em Get all the statistics back from mc\+Model. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual std\+::shared\+\_\+ptr$<$ \hyperlink{class_path_generator}{Path\+Generator}$<$ R\+NG, Path\+Type $>$ $>$ \hyperlink{class_mc_simulation_afa7ba8d9b534837e7c62f47c6d20a353}{path\+Generator} () const =0
\begin{DoxyCompactList}\small\item\em Defer the implementation of path\+Generator to the derived class. \end{DoxyCompactList}\item 
virtual std\+::shared\+\_\+ptr$<$ \hyperlink{class_path_pricer}{Path\+Pricer}$<$ Path\+Type $>$ $>$ \hyperlink{class_mc_simulation_a64a3e635c1fa9d25797dc0cbad767238}{path\+Pricer} () const =0
\begin{DoxyCompactList}\small\item\em Defer the implementation of path\+Pricer to the derived class. \end{DoxyCompactList}\item 
virtual const vector$<$ \hyperlink{_name_def_8h_ac2d3e0ba793497bcca555c7c2cf64ff3}{Time} $>$ \hyperlink{class_mc_simulation_acf7d24981be3025a2cf07f8623dbe8ce}{time\+Grid} () const =0
\begin{DoxyCompactList}\small\item\em Defer the implementation of setting time grid to the derived class. \end{DoxyCompactList}\item 
void \hyperlink{class_mc_simulation_a0e5d11df4cca5b1f3dcdc8f528a9a56f}{value} (unsigned long max\+Samples, unsigned long min\+Samples) const
\begin{DoxyCompactList}\small\item\em Call the \hyperlink{class_mc_model}{Mc\+Model} to do the valuation. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::shared\+\_\+ptr$<$ \hyperlink{class_mc_model}{Mc\+Model}$<$ R\+NG, Path\+Type $>$ $>$ \hyperlink{class_mc_simulation_a194d2f5aa4a4e3863d6590a88af9c445}{mc\+Model\+\_\+}
\begin{DoxyCompactList}\small\item\em Shared\+\_\+ptr of \hyperlink{class_mc_model}{Mc\+Model} which contains the needed path generator and pricer. \end{DoxyCompactList}\item 
bool \hyperlink{class_mc_simulation_af17f26f85e3f48406229d7b6f84b3f89}{is\+Antithetic\+\_\+}
\begin{DoxyCompactList}\small\item\em =1 indicates use of antithetic path; =0 makes no use of antithetic path. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$typename R\+NG, typename Path\+Type$>$\newline
class Mc\+Simulation$<$ R\+N\+G, Path\+Type $>$}

Base class for all Monte Carlo pricing engines. 

Any Monte Carlo pricing engine will be privately inherited(implemented in terms of) from this class.~\newline
It will provide the mc\+Model class(its data member) with a specific path generator and a path pricer and control the calculation procedure of mc\+Model. 
\begin{DoxyTemplParams}{Template Parameters}
{\em R\+NG} & Generic random number generator(e.\+g. \hyperlink{struct_single_random}{Single\+Random}$<$Normal$<$$>$$>$, \hyperlink{struct_multi_random}{Multi\+Random}$<$Normal$<$$>$,\hyperlink{class_poisson}{Poisson}$>$,...) \\
\hline
{\em Path\+Type} & Type of generated path.\\
\hline
\end{DoxyTemplParams}
{\itshape How} {\itshape to} {\itshape use\+:} ~\newline
Classes derived from Mc\+Simulation$<$\+R\+N\+G,\+Path\+Type$>$ should override pure member functions\+: \hyperlink{class_mc_simulation_afa7ba8d9b534837e7c62f47c6d20a353}{path\+Generator()}, \hyperlink{class_mc_simulation_a64a3e635c1fa9d25797dc0cbad767238}{path\+Pricer()}, \hyperlink{class_mc_simulation_acf7d24981be3025a2cf07f8623dbe8ce}{time\+Grid()}. 

\subsection{Member Function Documentation}
\hypertarget{class_mc_simulation_a9d323dca5d0a6c50d6fbab6ea564a1f3}{}\label{class_mc_simulation_a9d323dca5d0a6c50d6fbab6ea564a1f3} 
\index{Mc\+Simulation@{Mc\+Simulation}!calculate@{calculate}}
\index{calculate@{calculate}!Mc\+Simulation@{Mc\+Simulation}}
\subsubsection{\texorpdfstring{calculate()}{calculate()}}
{\footnotesize\ttfamily template$<$typename R\+NG , typename Path\+Type $>$ \\
void \hyperlink{class_mc_simulation}{Mc\+Simulation}$<$ R\+NG, Path\+Type $>$\+::calculate (\begin{DoxyParamCaption}\item[{unsigned long}]{max\+Samples,  }\item[{unsigned long}]{min\+Samples }\end{DoxyParamCaption})}



Create its data member mc\+Model(shared\+\_\+ptr) with corresponding path generator and path pricer and control the calculation procedure. 

{\itshape Constness\+:} data member mc\+Model will change, so it cannot be const member function. 
\begin{DoxyParams}{Parameters}
{\em max\+Samples} & Maximum number of samples. \\
\hline
{\em min\+Samples} & Number of samples for each valuation. \\
\hline
\end{DoxyParams}
\hypertarget{class_mc_simulation_afa7ba8d9b534837e7c62f47c6d20a353}{}\label{class_mc_simulation_afa7ba8d9b534837e7c62f47c6d20a353} 
\index{Mc\+Simulation@{Mc\+Simulation}!path\+Generator@{path\+Generator}}
\index{path\+Generator@{path\+Generator}!Mc\+Simulation@{Mc\+Simulation}}
\subsubsection{\texorpdfstring{path\+Generator()}{pathGenerator()}}
{\footnotesize\ttfamily template$<$typename R\+NG , typename Path\+Type $>$ \\
virtual std\+::shared\+\_\+ptr$<$\hyperlink{class_path_generator}{Path\+Generator}$<$R\+NG, Path\+Type$>$ $>$ \hyperlink{class_mc_simulation}{Mc\+Simulation}$<$ R\+NG, Path\+Type $>$\+::path\+Generator (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [pure virtual]}}



Defer the implementation of path\+Generator to the derived class. 

Provide the mc\+Model with a specific path generator. \begin{DoxyReturn}{Returns}
shared\+\_\+ptr of path generator. 
\end{DoxyReturn}


Implemented in \hyperlink{class_mc_european_engine_ac0f14a7ff770c69ce802eb662230e4cb}{Mc\+European\+Engine$<$ R\+N\+G, Path\+Type $>$}, and \hyperlink{class_mc_asian_engine_aafae065fc8b31b009b4b42a53b850e82}{Mc\+Asian\+Engine$<$ R\+N\+G, Path\+Type $>$}.

\hypertarget{class_mc_simulation_a64a3e635c1fa9d25797dc0cbad767238}{}\label{class_mc_simulation_a64a3e635c1fa9d25797dc0cbad767238} 
\index{Mc\+Simulation@{Mc\+Simulation}!path\+Pricer@{path\+Pricer}}
\index{path\+Pricer@{path\+Pricer}!Mc\+Simulation@{Mc\+Simulation}}
\subsubsection{\texorpdfstring{path\+Pricer()}{pathPricer()}}
{\footnotesize\ttfamily template$<$typename R\+NG , typename Path\+Type $>$ \\
virtual std\+::shared\+\_\+ptr$<$\hyperlink{class_path_pricer}{Path\+Pricer}$<$Path\+Type$>$ $>$ \hyperlink{class_mc_simulation}{Mc\+Simulation}$<$ R\+NG, Path\+Type $>$\+::path\+Pricer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [pure virtual]}}



Defer the implementation of path\+Pricer to the derived class. 

\begin{DoxyReturn}{Returns}
shared\+\_\+ptr of path pricer. 
\end{DoxyReturn}


Implemented in \hyperlink{class_mc_european_engine_ad4fb94329470643f2edc491bfcb31bdf}{Mc\+European\+Engine$<$ R\+N\+G, Path\+Type $>$}, and \hyperlink{class_mc_asian_engine_a4ad8ccd05433f0668d751a8b3dcbb746}{Mc\+Asian\+Engine$<$ R\+N\+G, Path\+Type $>$}.

\hypertarget{class_mc_simulation_a61ed7348fc9fd05f05ede3c1ef83da16}{}\label{class_mc_simulation_a61ed7348fc9fd05f05ede3c1ef83da16} 
\index{Mc\+Simulation@{Mc\+Simulation}!sample\+Accumulator@{sample\+Accumulator}}
\index{sample\+Accumulator@{sample\+Accumulator}!Mc\+Simulation@{Mc\+Simulation}}
\subsubsection{\texorpdfstring{sample\+Accumulator()}{sampleAccumulator()}}
{\footnotesize\ttfamily template$<$typename R\+NG , typename Path\+Type $>$ \\
const \hyperlink{class_m_c_statistics}{M\+C\+Statistics} \& \hyperlink{class_mc_simulation}{Mc\+Simulation}$<$ R\+NG, Path\+Type $>$\+::sample\+Accumulator (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}



Get all the statistics back from mc\+Model. 

{\itshape Accessibility\+:} Protected, since other class except derived classes should not be able to get the statistics.~\newline
{\itshape Constness\+:} Return type is a const, since users should not modify the result. \begin{DoxyReturn}{Returns}
All the statistics(mean, variance,...) after calculations. 
\end{DoxyReturn}
\hypertarget{class_mc_simulation_acf7d24981be3025a2cf07f8623dbe8ce}{}\label{class_mc_simulation_acf7d24981be3025a2cf07f8623dbe8ce} 
\index{Mc\+Simulation@{Mc\+Simulation}!time\+Grid@{time\+Grid}}
\index{time\+Grid@{time\+Grid}!Mc\+Simulation@{Mc\+Simulation}}
\subsubsection{\texorpdfstring{time\+Grid()}{timeGrid()}}
{\footnotesize\ttfamily template$<$typename R\+NG , typename Path\+Type $>$ \\
virtual const vector$<$\hyperlink{_name_def_8h_ac2d3e0ba793497bcca555c7c2cf64ff3}{Time}$>$ \hyperlink{class_mc_simulation}{Mc\+Simulation}$<$ R\+NG, Path\+Type $>$\+::time\+Grid (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [pure virtual]}}



Defer the implementation of setting time grid to the derived class. 

Time grid is a vector which is saved in the \hyperlink{class_path}{Path} class.~\newline
{\itshape Constness\+:} Return by value, since it is a local variable. \begin{DoxyReturn}{Returns}
Vector of time grid. 
\end{DoxyReturn}


Implemented in \hyperlink{class_mc_european_engine_ae4e0ab6834416144221f1a91dd154587}{Mc\+European\+Engine$<$ R\+N\+G, Path\+Type $>$}.

\hypertarget{class_mc_simulation_a0e5d11df4cca5b1f3dcdc8f528a9a56f}{}\label{class_mc_simulation_a0e5d11df4cca5b1f3dcdc8f528a9a56f} 
\index{Mc\+Simulation@{Mc\+Simulation}!value@{value}}
\index{value@{value}!Mc\+Simulation@{Mc\+Simulation}}
\subsubsection{\texorpdfstring{value()}{value()}}
{\footnotesize\ttfamily template$<$typename R\+NG , typename Path\+Type $>$ \\
void \hyperlink{class_mc_simulation}{Mc\+Simulation}$<$ R\+NG, Path\+Type $>$\+::value (\begin{DoxyParamCaption}\item[{unsigned long}]{max\+Samples,  }\item[{unsigned long}]{min\+Samples }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Call the \hyperlink{class_mc_model}{Mc\+Model} to do the valuation. 


\begin{DoxyParams}{Parameters}
{\em max\+Samples} & Maximum number of samples. \\
\hline
{\em min\+Samples} & Number of samples for each valuation. \\
\hline
\end{DoxyParams}


\subsection{Member Data Documentation}
\hypertarget{class_mc_simulation_af17f26f85e3f48406229d7b6f84b3f89}{}\label{class_mc_simulation_af17f26f85e3f48406229d7b6f84b3f89} 
\index{Mc\+Simulation@{Mc\+Simulation}!is\+Antithetic\+\_\+@{is\+Antithetic\+\_\+}}
\index{is\+Antithetic\+\_\+@{is\+Antithetic\+\_\+}!Mc\+Simulation@{Mc\+Simulation}}
\subsubsection{\texorpdfstring{is\+Antithetic\+\_\+}{isAntithetic\_}}
{\footnotesize\ttfamily template$<$typename R\+NG , typename Path\+Type $>$ \\
bool \hyperlink{class_mc_simulation}{Mc\+Simulation}$<$ R\+NG, Path\+Type $>$\+::is\+Antithetic\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



=1 indicates use of antithetic path; =0 makes no use of antithetic path. 

\hypertarget{class_mc_simulation_a194d2f5aa4a4e3863d6590a88af9c445}{}\label{class_mc_simulation_a194d2f5aa4a4e3863d6590a88af9c445} 
\index{Mc\+Simulation@{Mc\+Simulation}!mc\+Model\+\_\+@{mc\+Model\+\_\+}}
\index{mc\+Model\+\_\+@{mc\+Model\+\_\+}!Mc\+Simulation@{Mc\+Simulation}}
\subsubsection{\texorpdfstring{mc\+Model\+\_\+}{mcModel\_}}
{\footnotesize\ttfamily template$<$typename R\+NG , typename Path\+Type $>$ \\
std\+::shared\+\_\+ptr$<$\hyperlink{class_mc_model}{Mc\+Model}$<$R\+NG, Path\+Type$>$ $>$ \hyperlink{class_mc_simulation}{Mc\+Simulation}$<$ R\+NG, Path\+Type $>$\+::mc\+Model\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Shared\+\_\+ptr of \hyperlink{class_mc_model}{Mc\+Model} which contains the needed path generator and pricer. 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
Mc\+Framework/\hyperlink{_mc_simulation_8h}{Mc\+Simulation.\+h}\end{DoxyCompactItemize}
